diff --git a/node_modules/@distube/yt-dlp/dist/index.js b/node_modules/@distube/yt-dlp/dist/index.js
index b17b126..fc7be2d 100644
--- a/node_modules/@distube/yt-dlp/dist/index.js
+++ b/node_modules/@distube/yt-dlp/dist/index.js
@@ -125,8 +125,10 @@ var YtDlpPlugin = class extends import_distube.PlayableExtractorPlugin {
   static {
     __name(this, "YtDlpPlugin");
   }
-  constructor({ update } = {}) {
+  cookies = null;
+  constructor({ update, cookies } = {}) {
     super();
+    this.cookies = cookies || null;
     if (update ?? true) download().catch(() => void 0);
   }
   init(distube) {
@@ -141,14 +143,16 @@ var YtDlpPlugin = class extends import_distube.PlayableExtractorPlugin {
     return true;
   }
   async resolve(url, options) {
-    const info = await json(url, {
+    const flags = {
       dumpSingleJson: true,
       noWarnings: true,
-      noCallHome: true,
-      preferFreeFormats: true,
       skipDownload: true,
-      simulate: true
-    }).catch((e2) => {
+      flatPlaylist: true,
+      ignoreNoFormatsError: true,
+      extractorArgs: "youtube:player_client=web"
+    };
+    if (this.cookies) flags.cookies = this.cookies;
+    const info = await json(url, flags).catch((e2) => {
       throw new import_distube.DisTubeError("YTDLP_ERROR", `${e2.stderr || e2}`);
     });
     if (isPlaylist(info)) {
@@ -171,18 +175,32 @@ var YtDlpPlugin = class extends import_distube.PlayableExtractorPlugin {
     if (!song.url) {
       throw new import_distube.DisTubeError("YTDLP_PLUGIN_INVALID_SONG", "Cannot get stream url from invalid song.");
     }
-    const info = await json(song.url, {
+    console.log("[YtDlpPlugin] getStreamURL called for:", song.url);
+    console.log("[YtDlpPlugin] this.cookies value:", this.cookies);
+    console.log("[YtDlpPlugin] song.plugin.cookies value:", song.plugin?.cookies);
+
+    // 從 song.plugin 取得 cookies（因為 this 可能不正確）
+    const cookiesPath = this.cookies || song.plugin?.cookies;
+
+    const flags = {
       dumpSingleJson: true,
       noWarnings: true,
-      noCallHome: true,
-      preferFreeFormats: true,
       skipDownload: true,
-      simulate: true,
-      format: "ba/ba*"
-    }).catch((e2) => {
+      format: "bestaudio/best",
+      extractorArgs: "youtube:player_client=web"
+    };
+    if (cookiesPath) {
+      flags.cookies = cookiesPath;
+      console.log("[YtDlpPlugin] Using cookies:", cookiesPath);
+    } else {
+      console.log("[YtDlpPlugin] WARNING: No cookies available!");
+    }
+    const info = await json(song.url, flags).catch((e2) => {
+      console.error("[YtDlpPlugin] getStreamURL error:", e2);
       throw new import_distube.DisTubeError("YTDLP_ERROR", `${e2.stderr || e2}`);
     });
     if (isPlaylist(info)) throw new import_distube.DisTubeError("YTDLP_ERROR", "Cannot get stream URL of a entire playlist");
+    console.log("[YtDlpPlugin] Stream URL:", info.url ? info.url.substring(0, 100) + "..." : "undefined");
     return info.url;
   }
   getRelatedSongs() {
